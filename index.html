<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta charset='UTF-8' />
    <title>TxPhin</title>
    <style media='screen' type='text/css'> @import "stylesheets/iphin.css";              </style>
    <style media='screen' type='text/css'> @import "jqtouch/jqtouch.css";                </style>
    <style media='screen' type='text/css'> @import "jqtouch/themes/apple/theme.min.css"; </style>
    
    <script charset='utf-8' src='javascript/phonegap.js'          type='text/javascript'></script>
		<script charset='utf-8' src='jqtouch/jquery.js'               type='text/javascript'></script>
    <script charset='utf-8' src='jqtouch/jqtouch.js'              type='text/javascript'></script>
    <script charset='utf-8' src='javascript/jquery-jtemplates.js' type='text/javascript'></script>
    <script charset='utf-8' src='javascript/jquery.ba-serializeobject.min.js' type='text/javascript'></script>
    <script charset='utf-8' src='javascript/json2.js' type='text/javascript'></script>
    <script charset='utf-8' src='javascript/iphin.js'             type='text/javascript'></script>
    
    <script charset='utf-8' type='text/javascript'>
    	// If you want to prevent dragging, uncomment this section
    		// window.onload = startup;
    	/*
    	function preventBehavior(e) { e.preventDefault(); };
    	document.addEventListener("touchmove", preventBehavior, false);
    	*/
    	function onBodyLoad() {	document.addEventListener("deviceready",onDeviceReady,false);	}
    	/* When this function is called, PhoneGap has been initialized and is ready to roll */
    	function onDeviceReady() { /* startup(); */ }
    </script>
  </head>
  
  <body onload="onBodyLoad()">
    
    <!-- Sign In Pane -->
    
    <div class="current" id="home">
       <div class="toolbar">
        <h1>TxPhin Sign In</h1>
      </div>
      <ul class="rounded">
        <img src="images/home_graphic.png" alt="Texas Public Health Network" class="figure">
      </ul>
      <form method="post" id="signin_form" accept-charset="utf-8">
        <ul class="rounded">
          <li><input name="session[email]" value="" type="text" placeholder="E-mail" autocapitalize="off"></li>
          <li><input name="session[password]" value="" type="password" placeholder="Password" autocapitalize="off"></li>
          <li><a href="#signIn" id="signin" class="blueButton submit login">Sign In</a></li> 
        </ul>
      </form>
      <ul class="rounded">
        <img src="images/texas_dshs.png" alt="dshs" class="figure"> 
      </ul>
   </div>

    <!-- Alerts Pane -->
    
    <div id="alerts_pane">
      <div class="toolbar">
        <h1>TxPhin Alerts</h1>
        <a href="#people_search_pane" class="button swap">People</a>
      </div>
      <ul id="alerts_preview" class="alerts rounded">
      </ul>
    </div>

    <!-- Alert Detail Pane -->
    
    <div id="alert_detail_pane">
      <div class="toolbar">
        <a href="#" class="button back"  >Back</a>
        <h1>Alert</h1>
      </div>
      <div id="alert_details">
      </div>
    </div>
    
    <!-- People Search Pane -->
    
    <div id="people_search_pane">
      <div class="toolbar">
        <a class="back"  >Alerts</a>
        <h1>Search People</h1>
      </div>
      <ul class="rounded">
        <form action="/search/show_advanced" method="post" id="people_search_form" accept-charset="utf-8">
            <li><input name="first_name" type="text" placeholder="First Name"></li>
            <li><input name="last_name"  type="text" placeholder="Last Name"></li>
            <li><input name="email" type="text" placeholder="E-mail"></li>
            <li>
              <div id="people_jurisdictions_select"></div>
            </li>
            <li>
              <div id="people_roles_select"></div>
            </li>
            <li><a id="quicksearch" class="blueButton submit">Search</a></li>  
        </form>
    </ul>
    </div>
    
    <!-- People pane -->
    
    <div id="people_pane">
    </div>
    
    <!-- New Contact Pane -->

    <div id="new_contact_pane" >
    </div>
    
  </body>
</html>

<!-- Templates -->

<p style="display:none"><textarea id="alerts_preview_template" rows="0" cols="0"><!--
  {#foreach $T as entry}
    <li class="arrow">
      <a href="#alert_detail_pane" alert_id="{$T.entry$index}">
      {#if $T.entry.header != null}
        <p class="header">{$T.entry.header}</p>
      {#/if}
      {#if $T.entry.preview != null}
        {#foreach $T.entry.preview.pair as line}
          <p class="pair">{$T.line.key}<span>{$T.line.value}</span></p>
        {#/for}
      {#/if}
      </a>
    </li>
  {#/for}
--></textarea></p>

<!-- alert_detail_template does not exist. --> 
 
<p style="display:none"><textarea id="people_results_template" rows="0" cols="0"><!--
  <div class="toolbar">
    <h1>People</h1>
    <a class="back">Search</a>
  </div>
  <ul id="people" class="people edgetoedge">
    {#foreach $T as entry}
      <li class="person arrow">
      <a href="#new_contact_pane" contact_id="{$T.entry$index}">
      {#if $T.entry.header != null}
        <p class="header">{$T.entry.header}</p>
      {#/if}
      {#if $T.entry.preview != null}
        {#foreach $T.entry.preview.pair as line}
          <p class={$T.line$key}>{$T.line.key}</p>
        {#/for}
      {#/if}
      </a>
      </li>
    {#/for}
  </ul>
--></textarea></p> 

<p style="display:none"><textarea id="role_select_template" rows="0" cols="0"><!--
  <select name="[role_ids][]" multiple="multiple">
    <option value="" SELECTED>Role...</option>
    {#foreach $T as option}
      <option value={$T.option.id}>{$T.option.name}</option>
    {#/for}
  </select>
--></textarea></p> 

<p style="display:none"><textarea id="jurisdiction_select_template" rows="0" cols="0"><!--
  <select name="[jurisdiction_ids][]" multiple="multiple">
    <option value="" SELECTED>Jurisdiction...</option>
    {#foreach $T as option}
      <option value={$T.option.id}>{$T.option.name}</option>
    {#/for}
  </select>
--></textarea></p> 

<p style="display:none"><textarea id="select_option_template" rows="0" cols="0"><!--
  {#foreach $T as option}
    <option value={$T.option.id}>{$T.option.name}</option>
  {#/for}
--></textarea></p> 

<p style="display:none"><textarea id="new_contact_template" rows="0" cols="0"><!--
  <div class="toolbar">
    <h1>New Contact</h1>
    <a href="#" class="button cancel"  >Back</a>
  </div>
  <ul class="rounded">
    <form id="new_contact_form" action="#" method="post" accept-charset="utf-8">
      {#foreach $T.contact as input}
        <li>
          <p class="contactLabel"><label for={$T.input.name}>{$T.input.label}</label></p>
          <p><input class="contactValue" name={$T.input.name} type="text" value={$T.input.value} ></p>
        </li>
      {#/for}
      <li><a id="create_contact" href="#people_pane" class="blueButton submit">Create</a></li>  
    </form>
  </ul>
--></textarea></p>

